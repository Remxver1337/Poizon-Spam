"""
–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –¢–ï–õ–ï–ì–†–ê–ú –ë–û–¢–ê –° –ó–ï–†–ö–ê–õ–ê–ú–ò
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!
"""

import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# ============= –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò =============
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞ (—Å–æ–∑–¥–∞–π—Ç–µ —á–µ—Ä–µ–∑ @BotFather)
MAIN_BOT_TOKEN = os.getenv("BOT_TOKEN", "8517379434:AAGqMYBuEQZ8EMNRf3g4yBN-Q0jpm5u5eZU")

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–≤–∞—à Telegram ID)
ADMIN_ID = int(os.getenv("ADMIN_ID", 7404231636))

# ============= –ù–ê–°–¢–†–û–ô–ö–ò –•–û–°–¢–ê =============
# ‚ö†Ô∏è –í–ê–ñ–ù–û: bothost —Å–æ–∑–¥–∞—Å—Ç –¥–æ–º–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –≤ bothost –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
# –ü—Ä–∏–º–µ—Ä: bot12345.bothost.ru –∏–ª–∏ –≤–∞—à-–ª–æ–≥–∏–Ω.bothost.ru
YOUR_HOST = os.getenv("YOUR_HOST", "–≤–∞—à-–¥–æ–º–µ–Ω.bothost.ru")  # ‚¨ÖÔ∏è –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® –î–û–ú–ï–ù

# –ü–æ—Ä—Ç –¥–ª—è webhook (–æ–±—ã—á–Ω–æ 443 –¥–ª—è HTTPS –∏–ª–∏ 8443)
YOUR_PORT = int(os.getenv("YOUR_PORT", 443))

# SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (bothost –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
YOUR_SSL_CERT = os.getenv("YOUR_SSL_CERT", None)  # –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å
YOUR_SSL_KEY = os.getenv("YOUR_SSL_KEY", None)    # –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å

# ============= –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´ =============
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è bothost)
USE_WEBHOOK = os.getenv("USE_WEBHOOK", "True").lower() == "true"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å polling (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å webhook)
USE_POLLING = os.getenv("USE_POLLING", "False").lower() == "true"

# ============= –ù–ê–°–¢–†–û–ô–ö–ò –ë–ê–ó –î–ê–ù–ù–´–• =============
DATABASE_PATH = os.getenv("DATABASE_PATH", "databases/mirrors.db")

# ============= –ù–ê–°–¢–†–û–ô–ö–ò –ó–ï–†–ö–ê–õ =============
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–¥–Ω–æ –∑–µ—Ä–∫–∞–ª–æ
MAX_USERS_PER_MIRROR = 10

# –ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–µ—Ä–∫–∞–ª–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
INACTIVITY_DAYS = 7

# ============= –ù–ê–°–¢–†–û–ô–ö–ò –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø =============
LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")
LOG_FILE = os.getenv("LOG_FILE", "logs/bot.log")

# ============= –ü–†–û–í–ï–†–ö–ê –ù–ê–°–¢–†–û–ï–ö =============
def validate_config():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
    errors = []
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
    if not MAIN_BOT_TOKEN or MAIN_BOT_TOKEN == "8517379434:AAGqMYBuEQZ8EMNRf3g4yBN-Q0jpm5u5eZU":
        errors.append("‚ùå –û–®–ò–ë–ö–ê: MAIN_BOT_TOKEN –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!")
        errors.append("   –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–æ—Å—Ç–∞
    if YOUR_HOST == "–≤–∞—à-–¥–æ–º–µ–Ω.bothost.ru":
        errors.append("‚ùå –û–®–ò–ë–ö–ê: YOUR_HOST –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!")
        errors.append("   –ü–æ–ª—É—á–∏—Ç–µ –¥–æ–º–µ–Ω –æ—Ç bothost –∏ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –∑–¥–µ—Å—å")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞
    if ADMIN_ID == 7404231636:
        errors.append("‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: ADMIN_ID –Ω–µ –∏–∑–º–µ–Ω–µ–Ω")
        errors.append("   –£–∫–∞–∂–∏—Ç–µ –≤–∞—à Telegram ID")
    
    if errors:
        print("\n" + "="*50)
        print("–ü–†–û–í–ï–†–ö–ê –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò:")
        print("="*50)
        for error in errors:
            print(error)
        print("="*50)
        print("\nüìù –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:")
        print("1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –ø–∞–ø–∫–µ —Å –±–æ—Ç–æ–º")
        print("2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env.example")
        print("3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏")
        print("4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞")
        return False
    
    print("‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    print(f"üåê –•–æ—Å—Ç: {YOUR_HOST}:{YOUR_PORT}")
    print(f"üîß –†–µ–∂–∏–º: {'WEBHOOK' if USE_WEBHOOK else 'POLLING'}")
    return True

if __name__ == "__main__":
    validate_config()